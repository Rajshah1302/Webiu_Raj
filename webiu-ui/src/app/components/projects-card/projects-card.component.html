<div class="projects__card">
  <div class="projects__card__main">
    <div class="projects__card__desc">
      <h3>{{ name }}</h3>
      <p>{{ detailsVisible ? description : truncatedDescription }}</p>
    </div>
    <div class="projects__card__details">
      <span>
        <div
          class="circle-box"
          [style.background-color]="getLanguageColor()"
        ></div>

        <h4>{{ language }}</h4>
      </span>
      <div class="projects__card__details__info">
        <a
          href="https://github.com/c2siorg/{{ name }}/issues"
          class="issue-btn"
          target="_blank"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="29"
            viewBox="0 0 28 29"
            fill="none"
          >
            <path
              d="M14 16.5C14.5304 16.5 15.0391 16.2893 15.4142 15.9142C15.7893 15.5391 16 15.0304 16 14.5C16 13.9696 15.7893 13.4609 15.4142 13.0858C15.0391 12.7107 14.5304 12.5 14 12.5C13.4696 12.5 12.9609 12.7107 12.5858 13.0858C12.2107 13.4609 12 13.9696 12 14.5C12 15.0304 12.2107 15.5391 12.5858 15.9142C12.9609 16.2893 13.4696 16.5 14 16.5Z"
              fill="#0A0A15"
            />
            <path
              d="M14 2.5C17.1826 2.5 20.2348 3.76428 22.4853 6.01472C24.7357 8.26516 26 11.3174 26 14.5C26 17.6826 24.7357 20.7348 22.4853 22.9853C20.2348 25.2357 17.1826 26.5 14 26.5C10.8174 26.5 7.76516 25.2357 5.51472 22.9853C3.26428 20.7348 2 17.6826 2 14.5C2 11.3174 3.26428 8.26516 5.51472 6.01472C7.76516 3.76428 10.8174 2.5 14 2.5ZM4.25 14.5C4.25 17.0859 5.27723 19.5658 7.10571 21.3943C8.93419 23.2228 11.4141 24.25 14 24.25C16.5859 24.25 19.0658 23.2228 20.8943 21.3943C22.7228 19.5658 23.75 17.0859 23.75 14.5C23.75 11.9141 22.7228 9.43419 20.8943 7.60571C19.0658 5.77723 16.5859 4.75 14 4.75C11.4141 4.75 8.93419 5.77723 7.10571 7.60571C5.27723 9.43419 4.25 11.9141 4.25 14.5Z"
              fill="#0A0A15"
            />
          </svg>
          <p>Issues</p>
          <span>{{ issue }}</span>
        </a>
        <a
          href="https://github.com/c2siorg/{{ name }}/pulls"
          class="pr-btn"
          target="_blank"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="29"
            viewBox="0 0 28 29"
            fill="none"
          >
            <path
              d="M11.375 7.50001C11.3747 6.84546 11.1908 6.20413 10.8443 5.64884C10.4978 5.09355 10.0025 4.64655 9.41467 4.35861C8.82686 4.07068 8.17009 3.95334 7.51894 4.01993C6.8678 4.08652 6.24837 4.33436 5.73101 4.73532C5.21365 5.13627 4.81909 5.67427 4.59214 6.28821C4.36518 6.90214 4.31494 7.56742 4.4471 8.20848C4.57926 8.84954 4.88854 9.4407 5.33981 9.91481C5.79108 10.3889 6.36625 10.727 7.00001 10.8906V18.1094C6.17518 18.3224 5.45634 18.8288 4.97823 19.5339C4.50012 20.2389 4.29556 21.0942 4.4029 21.9393C4.51024 22.7843 4.92211 23.5613 5.5613 24.1244C6.2005 24.6876 7.02313 24.9982 7.87501 24.9982C8.72689 24.9982 9.54952 24.6876 10.1887 24.1244C10.8279 23.5613 11.2398 22.7843 11.3471 21.9393C11.4545 21.0942 11.2499 20.2389 10.7718 19.5339C10.2937 18.8288 9.57483 18.3224 8.75001 18.1094V10.8906C9.50104 10.6956 10.1662 10.2569 10.6412 9.64332C11.1162 9.02975 11.3743 8.27596 11.375 7.50001ZM9.62501 21.5C9.62501 21.8461 9.52237 22.1845 9.33008 22.4723C9.13779 22.76 8.86447 22.9843 8.5447 23.1168C8.22493 23.2493 7.87307 23.2839 7.5336 23.2164C7.19413 23.1489 6.88231 22.9822 6.63757 22.7374C6.39283 22.4927 6.22616 22.1809 6.15863 21.8414C6.09111 21.5019 6.12577 21.1501 6.25822 20.8303C6.39067 20.5105 6.61497 20.2372 6.90276 20.0449C7.19055 19.8526 7.52889 19.75 7.87501 19.75C8.33914 19.75 8.78426 19.9344 9.11244 20.2626C9.44063 20.5908 9.62501 21.0359 9.62501 21.5ZM7.87501 9.25001C7.52889 9.25001 7.19055 9.14737 6.90276 8.95508C6.61497 8.76279 6.39067 8.48947 6.25822 8.1697C6.12577 7.84993 6.09111 7.49807 6.15863 7.1586C6.22616 6.81913 6.39283 6.50731 6.63757 6.26257C6.88231 6.01783 7.19413 5.85116 7.5336 5.78363C7.87307 5.71611 8.22493 5.75076 8.5447 5.88322C8.86447 6.01567 9.13779 6.23997 9.33008 6.52776C9.52237 6.81555 9.62501 7.15389 9.62501 7.50001C9.62501 7.96414 9.44063 8.40926 9.11244 8.73744C8.78426 9.06563 8.33914 9.25001 7.87501 9.25001ZM22.75 18.1094V14.0494C22.752 13.2447 22.5946 12.4476 22.2867 11.7042C21.9788 10.9608 21.5266 10.2857 20.9563 9.71813L17.862 6.62501H21C21.2321 6.62501 21.4546 6.53282 21.6187 6.36873C21.7828 6.20463 21.875 5.98207 21.875 5.75001C21.875 5.51794 21.7828 5.29538 21.6187 5.13129C21.4546 4.96719 21.2321 4.87501 21 4.87501H15.75C15.5179 4.87501 15.2954 4.96719 15.1313 5.13129C14.9672 5.29538 14.875 5.51794 14.875 5.75001V11C14.875 11.2321 14.9672 11.4546 15.1313 11.6187C15.2954 11.7828 15.5179 11.875 15.75 11.875C15.9821 11.875 16.2046 11.7828 16.3687 11.6187C16.5328 11.4546 16.625 11.2321 16.625 11V7.86204L19.7181 10.9563C20.1258 11.3614 20.4491 11.8434 20.6691 12.3743C20.8892 12.9053 21.0016 13.4746 21 14.0494V18.1094C20.1752 18.3224 19.4563 18.8288 18.9782 19.5339C18.5001 20.2389 18.2956 21.0942 18.4029 21.9393C18.5102 22.7843 18.9221 23.5613 19.5613 24.1244C20.2005 24.6876 21.0231 24.9982 21.875 24.9982C22.7269 24.9982 23.5495 24.6876 24.1887 24.1244C24.8279 23.5613 25.2398 22.7843 25.3471 21.9393C25.4545 21.0942 25.2499 20.2389 24.7718 19.5339C24.2937 18.8288 23.5748 18.3224 22.75 18.1094ZM21.875 23.25C21.5289 23.25 21.1905 23.1474 20.9028 22.9551C20.615 22.7628 20.3907 22.4895 20.2582 22.1697C20.1258 21.8499 20.0911 21.4981 20.1586 21.1586C20.2262 20.8191 20.3928 20.5073 20.6376 20.2626C20.8823 20.0178 21.1941 19.8512 21.5336 19.7836C21.8731 19.7161 22.2249 19.7508 22.5447 19.8832C22.8645 20.0157 23.1378 20.24 23.3301 20.5278C23.5224 20.8155 23.625 21.1539 23.625 21.5C23.625 21.9641 23.4406 22.4093 23.1124 22.7374C22.7843 23.0656 22.3391 23.25 21.875 23.25Z"
              fill="#0A0A15"
            />
          </svg>
          <p>Pull Requests</p>
          <span>{{ pullRequests }}</span>
        </a>
        <a [href]="link" target="_blank" class="git-btn">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="25"
            viewBox="0 0 24 25"
            fill="none"
          >
            <g clip-path="url(#clip0_1_1403)">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M11.964 0.5C8.79107 0.500398 5.74821 1.76101 3.50461 4.00461C1.26101 6.24821 0.000397735 9.29107 0 12.464C0 17.747 3.45 22.2245 8.1465 23.84C8.7345 23.9135 8.9535 23.546 8.9535 23.252V21.197C5.652 21.932 4.9185 19.583 4.9185 19.583C4.404 18.188 3.597 17.8205 3.597 17.8205C2.496 17.087 3.669 17.087 3.669 17.087C4.8435 17.1605 5.505 18.335 5.505 18.335C6.606 20.1695 8.2935 19.655 8.955 19.3625C9.027 18.5555 9.3945 18.0425 9.6885 17.7485C7.0455 17.4545 4.257 16.427 4.257 11.8025C4.257 10.4825 4.6965 9.4535 5.505 8.573C5.43 8.3525 4.9905 7.106 5.652 5.4905C5.652 5.4905 6.6795 5.1965 8.9535 6.7385C9.9075 6.4445 10.9365 6.371 11.964 6.371C12.9915 6.371 14.019 6.518 14.973 6.7385C17.2485 5.198 18.276 5.4905 18.276 5.4905C18.936 7.106 18.495 8.3525 18.4215 8.6465C19.2298 9.52712 19.6756 10.6806 19.6695 11.876C19.6695 16.5005 16.8795 17.4545 14.2395 17.7485C14.679 18.1145 15.0465 18.848 15.0465 19.949V23.252C15.0465 23.546 15.2655 23.912 15.8535 23.84C18.2325 23.0371 20.299 21.5068 21.7609 19.4654C23.2228 17.4241 24.006 14.9748 24 12.464C23.9265 5.858 18.57 0.5 11.964 0.5Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_1_1403">
                <rect
                  width="24"
                  height="24"
                  fill="white"
                  transform="translate(0 0.5)"
                />
              </clipPath>
            </defs>
          </svg>
          <p>Contribute</p>
        </a>
      </div>
    </div>
    <div
      class="projects__card__open__btn"
      (click)="toggleDetails()"
      [class.rotate-90]="detailsVisible"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="14"
        height="24"
        viewBox="0 0 14 24"
        fill="none"
        [style.transform]="detailsVisible ? 'rotate(90deg)' : 'rotate(0deg)'"
      >
        <path
          d="M10.4714 12L1.1407 2.67149C0.929454 2.46025 0.810778 2.17374 0.810778 1.87499C0.810778 1.57625 0.929454 1.28974 1.1407 1.07849C1.35194 0.867249 1.63845 0.748573 1.9372 0.748573C2.23594 0.748573 2.52245 0.867249 2.7337 1.07849L12.8587 11.2035C12.9635 11.308 13.0466 11.4321 13.1033 11.5688C13.16 11.7055 13.1892 11.852 13.1892 12C13.1892 12.148 13.16 12.2945 13.1033 12.4312C13.0466 12.5678 12.9635 12.692 12.8587 12.7965L2.7337 22.9215C2.52245 23.1327 2.23594 23.2514 1.9372 23.2514C1.63845 23.2514 1.35194 23.1327 1.1407 22.9215C0.929454 22.7102 0.810778 22.4237 0.810778 22.125C0.810778 21.8262 0.929454 21.5397 1.1407 21.3285L10.4714 12Z"
          fill="#0A0A15"
        />
      </svg>
    </div>
  </div>

  <div class="projects__card__hidden" [class.visible]="detailsVisible">
    <div class="projects__card__hidden__tags">
      <div *ngFor="let tag of topics" class="projects__card__tag">
        {{ tag }}
      </div>
    </div>
    <div class="projects__card__details">
      <p><strong> Created at: </strong> {{ createdAt }}</p>
      <p><strong> Updated at: </strong> {{ updatedAt }}</p>
    </div>
  </div>
</div>
